<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="/examples/scratch/js/jquery.min.js"></script>
    <style>
        .square-button{
            height:250px;
            width:250px;
            display:inline-block;
            border:thin solid #CCC;
            background: #DDD;
            float:left;
            margin:3px;
        }
    </style>
    <title></title>
  </head>

  <body>
        <script src="/dist/mooog.js"></script>
        <div class="welcome">
          <h1>Button test</h1>




        </div><!-- .welcome -->




<button class="square-button tone-button" data-midi="60"></button>
<button class="square-button tone-button" data-midi="62"></button>
<button class="square-button tone-button" data-midi="64"></button>
<button class="square-button tone-button" data-midi="65"></button>
<button class="square-button tone-button" data-midi="67"></button>
<button class="square-button tone-button" data-midi="69"></button>
<button class="square-button tone-button" data-midi="71"></button>
<button class="square-button tone-button" data-midi="72"></button>
<button class="square-button sound-trigger1"></button>
<button class="square-button sound-trigger2"></button>




<script>



(function(){
    M = new Mooog({debug:true});
    M.node('osc','Oscillator').chain( M.node('out_gain','Gain') ).param('gain',0.4);
    osc = M.node('osc');
    animus = M.node({id:'animus',node_type:'AudioBufferSource',buffer_source_file:'sound/join_in.wav'})
//      animus = M.node({id:'animus',node_type:'AudioBufferSource'})
// g = M.node('gain','Gain');
//     animus2 = M.node({id:'animus',node_type:'AudioBufferSource',buffer_source_file:'sound/wild_animus.mp3',detune:1000})
    $(document)
    .on('mousedown','.tone-button',function(){
        osc.start().param('frequency', Mooog.freq($(this).data('midi')));
    })
    .on('mouseup','.tone-button',function(){
        osc.stop();
    })
    .on('mousedown','.sound-trigger1',function(){
        animus.start();
    })
    .on('mouseup','.sound-trigger1',function(){
        animus.stop();
    })

})(window)


/*
a = [0];
/* TRIANGLE
for(i=1;i<100;i += 1){
  if( i%2 != 0 ){
    a.push(1/(Math.pow(i,2)));
  }else{
    a.push(0);
  }
}
*/
/*
for(i=1;i<10;i += 1){
  if( i%2 != 0 ){
    a.push(1/i);
  }else{
    a.push(0);
  }
}
console.log(a);
var real = new Float32Array(a);
var imag = new Float32Array(real.length);
var hornTable = M.context.createPeriodicWave(real, imag);


O.setPeriodicWave(hornTable);
O.frequency.value = 160;


*/

  </script>
  </body>
</html>
